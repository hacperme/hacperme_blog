---
title: "Qthing AT SOTA 升级流程"
date: 2025-01-02T00:49:37+08:00
lastmod: 2025-01-02T00:49:37+08:00
author: ["hacper"]
tags:
    - qthing
    - ota
    - fota
    - sota
categories:
    - 笔记
description: "" # 文章描述，与搜索优化相关
summary: "" # 文章简单描述，会展示在主页
# weight: # 输入1可以顶置文章，用来给文章展示排序，不填就默认按时间排序
slug: ""
draft: true # 是否为草稿
comments: true
showToc: true # 显示目录
TocOpen: true # 自动展开目录
autonumbering: true # 目录自动编号
hidemeta: false # 是否隐藏文章的元信息，如发布日期、作者等
disableShare: true # 底部不显示分享栏
searchHidden: false # 该页面可以被搜索到
showbreadcrumbs: true #顶部显示当前路径
# mermaid: true
---

## Qthing fota 相关 at 指令：

[AT+QIOTOTAREQ](https://iot-cloud-docs.quectelcn.com/deviceDevelop/nb/AT/API/nb-at-05.html#AT+QIOTOTAREQ)

[AT+QIOTUPDATE](https://iot-cloud-docs.quectelcn.com/deviceDevelop/nb/AT/API/nb-at-05.html#AT+QIOTUPDATE)

[AT+QIOTOTARD](https://iot-cloud-docs.quectelcn.com/deviceDevelop/nb/AT/API/nb-at-05.html#AT+QIOTOTARD)

[AT+QIOTMCUVER](https://iot-cloud-docs.quectelcn.com/deviceDevelop/nb/AT/API/nb-at-03.html#AT+QIOTMCUVER)

## sota 升级 AT 交互流程

```
# 上传组件当前版本号
[2024-12-31 15:41:08]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4D  43 55 56 45 52 3D 22 47  4E 53 53 2D 50 30 22 2C  22 4C 43 37 36 47 50 41    AT+QIOTMCUVER="GNSS-P0","LC76GPA
[2024-12-31 15:41:08]  [D/AT] sendline: 0020-0040: 4E 52 31 32 41 30 33 53  22 0D 0A                                                                     NR12A03S"..
[2024-12-31 15:41:08]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:08]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A   

[2024-12-31 15:41:08]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4D  43 55 56 45 52 3D 22 47  4E 53 53 2D 50 31 22 2C  22 4C 43 37 36 47 50 41    AT+QIOTMCUVER="GNSS-P1","LC76GPA
[2024-12-31 15:41:08]  [D/AT] sendline: 0020-0040: 4E 52 31 32 41 30 33 53  22 0D 0A                                                                     NR12A03S"..
[2024-12-31 15:41:08]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:09]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..

[2024-12-31 15:41:09]  [D][2024-12-31 07:41:07][nbiot.c, nbiot_report_component_version, 1628] MCU VER,len41,ver:AT+QIOTMCUVER="GNSS-P2","LC76GPANR12A03S"

[2024-12-31 15:41:09]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4D  43 55 56 45 52 3D 22 47  4E 53 53 2D 50 32 22 2C  22 4C 43 37 36 47 50 41    AT+QIOTMCUVER="GNSS-P2","LC76GPA
[2024-12-31 15:41:09]  [D/AT] sendline: 0020-0040: 4E 52 31 32 41 30 33 53  22 0D 0A                                                                     NR12A03S"..
[2024-12-31 15:41:09]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:09]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..

[2024-12-31 15:41:09]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4D  43 55 56 45 52 3D 22 47  4E 53 53 2D 50 33 22 2C  22 4C 43 37 36 47 50 41    AT+QIOTMCUVER="GNSS-P3","LC76GPA
[2024-12-31 15:41:09]  [D/AT] sendline: 0020-0040: 4E 52 31 32 41 30 33 53  22 0D 0A                                                                     NR12A03S"..
[2024-12-31 15:41:09]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:09]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..

[2024-12-31 15:41:09]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4D  43 55 56 45 52 3D 22 47  4E 53 53 2D 50 34 22 2C  22 4C 43 37 36 47 50 41    AT+QIOTMCUVER="GNSS-P4","LC76GPA
[2024-12-31 15:41:09]  [D/AT] sendline: 0020-0040: 4E 52 31 32 41 30 33 53  22 0D 0A                                                                     NR12A03S"..
[2024-12-31 15:41:09]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:09]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..


# 请求升级计划
[2024-12-31 15:41:15]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4F  54 41 52 45 51 3D 30 0D  0A                                                  AT+QIOTOTAREQ=0..
[2024-12-31 15:41:15]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:15]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..
# 平台下发升级计划
[2024-12-31 15:41:16]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:19]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  30 2C 22 47 4E 53 53 2D  50 30 22 2C 22 22 2C 22    +QIOTEVT: 7,10700,"GNSS-P0","","
[2024-12-31 15:41:19]  [D/AT] recvline: 0020-0040: 4C 43 37 36 47 41 42 4E  52 31 32 41 30 32 53 22  2C 33 30 2C 2D 31 31 33  2C 31 31 31 30 37 33 36    LC76GABNR12A02S",30,-113,1110736
[2024-12-31 15:41:19]  [D/AT] recvline: 0040-0060: 0D 0A 

[2024-12-31 15:41:20]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  30 2C 22 47 4E 53 53 2D  50 31 22 2C 22 22 2C 22    +QIOTEVT: 7,10700,"GNSS-P1","","
[2024-12-31 15:41:20]  [D/AT] recvline: 0020-0040: 4C 43 37 36 47 41 42 4E  52 31 32 41 30 32 53 22  2C 33 30 2C 2D 31 31 33  2C 31 31 31 30 37 33 36    LC76GABNR12A02S",30,-113,1110736
[2024-12-31 15:41:20]  [D/AT] recvline: 0040-0060: 0D 0A                                                                                                 ..

[2024-12-31 15:41:21]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:21]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  30 2C 22 47 4E 53 53 2D  50 32 22 2C 22 22 2C 22    +QIOTEVT: 7,10700,"GNSS-P2","","
[2024-12-31 15:41:21]  [D/AT] recvline: 0020-0040: 4C 43 37 36 47 41 42 4E  52 31 32 41 30 32 53 22  2C 33 30 2C 2D 31 31 33  2C 31 31 31 30 37 33 36    LC76GABNR12A02S",30,-113,1110736
[2024-12-31 15:41:21]  [D/AT] recvline: 0040-0060: 0D 0A                                                                                                 ..

[2024-12-31 15:41:23]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:23]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  30 2C 22 47 4E 53 53 2D  50 33 22 2C 22 22 2C 22    +QIOTEVT: 7,10700,"GNSS-P3","","
[2024-12-31 15:41:23]  [D/AT] recvline: 0020-0040: 4C 43 37 36 47 41 42 4E  52 31 32 41 30 32 53 22  2C 33 30 2C 2D 31 31 33  2C 31 31 31 30 37 33 36    LC76GABNR12A02S",30,-113,1110736
[2024-12-31 15:41:23]  [D/AT] recvline: 0040-0060: 0D 0A                                                                                                 ..

[2024-12-31 15:41:24]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:24]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  30 2C 22 47 4E 53 53 2D  50 34 22 2C 22 22 2C 22    +QIOTEVT: 7,10700,"GNSS-P4","","
[2024-12-31 15:41:24]  [D/AT] recvline: 0020-0040: 4C 43 37 36 47 41 42 4E  52 31 32 41 30 32 53 22  2C 33 30 2C 2D 31 31 33  2C 31 31 31 30 37 33 36    LC76GABNR12A02S",30,-113,1110736
[2024-12-31 15:41:24]  [D/AT] recvline: 0040-0060: 0D 0A                                                                                                 ..


# 设备确认升级
[2024-12-31 15:41:24]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 55  50 44 41 54 45 3D 31 0D  0A                                                  AT+QIOTUPDATE=1..
[2024-12-31 15:41:24]  [W][2024-12-31 07:41:23][rt_api.c, at_obj_exec_cmd, 921] execute command (AT+QIOTUPDATE=1) timeout (1000 ticks)!

[2024-12-31 15:41:25]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:25]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..
[2024-12-31 15:41:25]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..

# 广播操作第一个设备。ps：好像没啥用，当前没处理这个URC
[2024-12-31 15:41:25]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:25]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  37 2C 31 0D 0A                                      +QIOTEVT: 7,10707,1..

# 开始下载组件
[2024-12-31 15:41:25]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:25]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  31 2C 22 47 4E 53 53 2D  50 30 22 2C 34 33 39 35    +QIOTEVT: 7,10701,"GNSS-P0",4395
[2024-12-31 15:41:25]  [D/AT] recvline: 0020-0040: 36 2C 22 61 66 35 37 35  61 35 34 38 38 35 38 37  66 63 62 62 34 39 61 35  61 62 63 37 35 30 64 39    6,"af575a5488587fcbb49a5abc750d9
[2024-12-31 15:41:25]  [D/AT] recvline: 0040-0060: 64 66 35 22 2C 31 35 32  30 36 31 30 32 32 31 0D  0A                                                  df5",1520610221..

# 下载中
[2024-12-31 15:41:26]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:26]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  32 0D 0A                                            +QIOTEVT: 7,10702..

[2024-12-31 15:41:40]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:41:44]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  32 0D 0A                                            +QIOTEVT: 7,10702..



# 文件片段下载完成，ps：需要处理读取的偏移量，文件下载完成了还是只是部分文件下载完成了
[2024-12-31 15:43:08]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:43:10]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  33 2C 22 47 4E 53 53 2D  50 30 22 2C 34 33 39 35    +QIOTEVT: 7,10703,"GNSS-P0",4395
[2024-12-31 15:43:10]  [D/AT] recvline: 0020-0040: 36 2C 30 2C 34 33 39 35  36 0D 0A                                                                     6,0,43956..


# 读取固件数据
[2024-12-31 15:43:10]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4F  54 41 52 44 3D 30 2C 39  37 34 0D 0A                                         AT+QIOTOTARD=0,974..
[2024-12-31 15:43:10]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 4F 54 41  52 44 3A 20 30 2C 39 37  34 0D 0A                                            +QIOTOTARD: 0,974..

[2024-12-31 15:43:10]  [D/AT] urc_recv: 0000-0020: DF F8 58 D0 72 B6 16 48  80 47 16 48 16 49 17 4B  17 4C 18 4A 42 F8 04 0B  42 F8 04 1B 42 F8 04 3B    ..X.r..H.G.H.I.K.L.JB...B...B..;
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0020-0040: 14 60 00 20 14 49 0D 4A  41 F8 04 0B 91 42 FF F4  FB AF 12 4A 12 4B 0A F0  5E FB 12 4A 12 4B 0A F0    .`. .I.JA....B.....J.K..^..J.K..
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0040-0060: 5A FB 12 49 12 4A 13 4B  0A F0 4C FB 12 49 13 4A  13 4B 0A F0 47 FB 13 48  00 47 70 47 00 40 01 04    Z..I.J.K..L..I.J.K..G..H.GpG.@..
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0060-0080: AD A6 20 04 17 00 20 14  00 00 20 04 23 00 00 10  00 00 00 00 00 10 18 E0  00 30 01 04 B4 AB 20 04    .. ... ... .#............0.... .
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0080-00A0: 9C F2 20 04 FC 0E 00 04  C8 BF 00 04 78 01 20 04  00 00 00 04 E4 0E 00 04  5C 10 20 04 E4 0E 00 04    .. .........x. .........\. .....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 00A0-00C0: FC 0E 00 04 B1 5F 20 04  00 40 01 04 01 00 20 04  B9 73 20 04 B9 73 20 04  B9 73 20 04 B9 73 20 04    ....._ ..@.... ..s ..s ..s ..s .
[2024-12-31 15:43:11]  [D/AT] urc_recv: 00C0-00E0: B9 73 20 04 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 B9 73 20 04  B9 73 20 04 00 00 00 00    .s ..................s ..s .....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 00E0-0100: B9 73 20 04 B9 73 20 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04    .s ..s .........................
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0100-0120: 11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04    ................................
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0120-0140: 11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04    ................................
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0140-0160: 11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04    ................................
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0160-0180: 11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  11 00 00 04 11 00 00 04  02 4B 58 68 C0 F3 08 00    .........................KXh....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0180-01A0: 10 38 70 47 00 ED 00 E0  08 B5 00 F0 89 FE FF F7  F3 FF C0 B2 1A 28 07 D8  40 B2 0B 4B 53 F8 20 30    .8pG.................(..@..KS. 0
[2024-12-31 15:43:11]  [D/AT] urc_recv: 01A0-01C0: 23 B1 98 47 00 20 02 E0  FD 20 00 E0 FC 20 EF F3  12 83 33 B1 05 48 06 4A  06 4B 4F F4 91 71 06 F2    #..G. ... ... ....3..H.J.KO..q..
[2024-12-31 15:43:11]  [D/AT] urc_recv: 01C0-01E0: 6F F8 40 B2 08 BD 00 BF  54 AC 20 04 4F 12 20 04  A0 12 20 04 8D 25 20 04  10 B5 74 46 EF F3 12 83    o.@.....T. .O. ... ..% ...tF....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 01E0-0200: 03 60 10 23 83 F3 11 88  BF F3 5F 8F BF F3 6F 8F  00 68 48 B9 00 F0 AE FD  02 28 05 D1 01 20 03 49    .`.#......_...o..hH......(... .I
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0200-0220: 00 F0 64 F8 02 4B 1C 60  00 20 10 BD E8 0E 00 04  50 AC 20 04 F8 B5 07 46  68 BB EF F3 12 83 10 2B    ..d..K.`. ......P. ....Fh......+
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0220-0240: 29 D1 00 F0 97 FD 02 28  22 D1 17 4C 17 4D 18 4E  21 46 01 20 00 F0 4A F8  30 68 21 68 2A 46 00 F0    )......("..L.M.N!F. ..J.0h!h*F..
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0240-0260: 71 F8 2B 68 B3 F5 7A 7F  0E D9 1E 20 64 21 04 F2  1D FD 49 F6 40 43 98 42  06 D9 0E 48 0E 4A 0F 4B    q.+h..z.... d!....I.@C.B...H.J.K
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0260-0280: 4F F4 AD 71 06 F2 1C F8  00 23 33 60 23 60 2B 60  0B 4B 00 22 1A 60 87 F3  11 88 BF F3 5F 8F BF F3    O..q.....#3`#`+`.K.".`......_...
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0280-02A0: 6F 8F 00 20 F8 BD 00 BF  EC 0E 00 04 E4 0E 00 04  E8 0E 00 04 4F 12 20 04  80 12 20 04 8D 25 20 04    o.. ................O. ... ..% .
[2024-12-31 15:43:11]  [D/AT] urc_recv: 02A0-02C0: 50 AC 20 04 EF F3 12 83  03 60 10 23 83 F3 11 88  BF F3 5F 8F BF F3 6F 8F  00 20 70 47 80 F3 11 88    P. ......`.#......_...o.. pG....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 02C0-02E0: BF F3 5F 8F BF F3 6F 8F  00 20 70 47 70 B5 0D 46  04 46 60 B9 10 4E 33 78  01 2B 06 D0 0F 48 10 21    .._...o.. pGp..F.F`..N3x.+...H.!
[2024-12-31 15:43:11]  [D/AT] urc_recv: 02E0-0300: 22 46 00 F0 7A F8 01 23  33 70 0C 48 0C E0 01 28  0F D1 09 4E 73 78 01 2B  05 D0 09 48 00 21 0C 22    "F..z..#3p.H...(...Nsx.+...H.!."
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0300-0320: 00 F0 6B F8 74 70 06 48  00 F0 46 F8 28 60 00 20  00 E0 FF 20 40 B2 70 BD  FC 0E 00 04 00 02 12 A2    ..k.tp.H..F.(`. ... @.p.........
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0320-0340: 00 03 12 A2 1A B1 08 1A  10 60 00 20 00 E0 FF 20  40 B2 70 47 38 B5 0A 4C  23 78 01 2B 05 46 06 D0    .........`. ... @.pG8..L#x.+.F..
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0340-0360: 08 48 10 21 00 22 00 F0  48 F8 01 23 23 70 28 46  00 F0 24 F8 01 46 03 48  00 F0 4B F8 00 20 38 BD    .H.!."..H..##p(F..$..F.H..K.. 8.
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0360-0380: FC 0E 00 04 00 02 12 A2  38 B5 09 4C 63 78 01 2B  05 46 06 D0 07 48 00 21  0C 22 00 F0 2E F8 01 23    ........8..Lcx.+.F...H.!.".....#
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0380-03A0: 63 70 04 48 29 46 00 F0  34 F8 00 20 38 BD 00 BF  FC 0E 00 04 00 03 12 A2  80 69 70 47 C3 00 19 1A    cp.H)F..4.. 8............ipG....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 03A0-03C0: 0A 22 B1 FB F2 F1 06 22  10 B5 42 43 64 24 B2 FB  F4 F2 0A 44 02 EB 40 10  4F F4 7A 72 B3 FB F2 F3    ."....."..BCd$.....D..@.O.zr....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 03C0-03E0: 18 44 10 BD 08 B5 34 20  00 F0 0C FB 20 B9 
[2024-12-31 15:43:11]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:43:11]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..

[2024-12-31 15:43:11]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4F  54 41 52 44 3D 39 37 34  2C 39 37 34 0D 0A                                   AT+QIOTOTARD=974,974..
[2024-12-31 15:43:11]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 4F 54 41  52 44 3A 20 39 37 34 2C  39 37 34 0D 0A                                      +QIOTOTARD: 974,974..

[2024-12-31 15:43:11]  [D/AT] urc_recv: 0000-0020: 34 20 BD E8 08 40 04 F2  44 BD 08 BD 70 B5 04 46  0D 46 16 46 35 43 FF F7  EE FF 40 F2 01 33 A5 60    4 ...@..D...p..F.F.F5C....@..3.`
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0020-0040: 23 60 70 BD 82 69 83 69  9B 1A 8B 42 FB D9 70 47  00 00 0B 28 00 F2 30 81  DF E8 10 F0 0C 00 2F 00    #`p..i.i...B..pG...(..0......./.
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0040-0060: 53 00 76 00 98 00 BB 00  DE 00 03 01 0B 01 1B 01  21 01 27 01 91 4B D3 F8  70 22 42 F4 80 72 C3 F8    S.v.............!.'..K..p"B..r..
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0060-0080: 70 22 D3 F8 30 22 61 F3  0A 22 C3 F8 30 22 D3 F8  50 22 42 F4 80 72 C3 F8  50 22 D3 F8 50 22 D2 05    p"..0"a.."..0"..P"B..r..P"..P"..
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0080-00A0: FB D4 D3 F8 60 12 84 4A  C1 F3 00 21 00 29 F8 D1  D2 F8 70 32 61 F3 08 23  20 E0 7F 4B D3 F8 70 22    ....`..J...!.)....p2a..# ..K..p"
[2024-12-31 15:43:11]  [D/AT] urc_recv: 00A0-00C0: 42 F0 01 02 C3 F8 70 22  D3 F8 30 22 61 F3 02 02  C3 F8 30 22 D3 F8 50 22  42 F0 01 02 C3 F8 50 22    B.....p"..0"a.....0"..P"B.....P"
[2024-12-31 15:43:11]  [D/AT] urc_recv: 00C0-00E0: D3 F8 50 22 D0 07 FB D4  D3 F8 60 12 73 4A 11 F0  01 01 F9 D1 D2 F8 70 32  61 F3 00 03 C2 F8 70 32    ..P"......`.sJ........p2a.....p2
[2024-12-31 15:43:11]  [D/AT] urc_recv: 00E0-0100: 70 47 6D 4B D3 F8 70 22  42 F4 80 32 C3 F8 70 22  D3 F8 30 22 61 F3 12 42  C3 F8 30 22 D3 F8 50 22    pGmK..p"B..2..p"..0"a..B..0"..P"
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0100-0120: 42 F4 80 32 C3 F8 50 22  D3 F8 50 22 D1 03 FB D4  D3 F8 60 12 61 4A C1 F3  00 41 00 29 F8 D1 D2 F8    B..2..P"..P"......`.aJ...A.)....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0120-0140: 70 32 61 F3 10 43 D9 E7  5C 4B D3 F8 74 22 42 F0  01 02 C3 F8 74 22 D3 F8  34 22 61 F3 02 02 C3 F8    p2a..C..\K..t"B.....t"..4"a.....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0140-0160: 34 22 D3 F8 54 22 42 F0  01 02 C3 F8 54 22 D3 F8  54 22 D2 07 FB D4 D3 F8  64 12 4F 4A 11 F0 01 01    4"..T"B.....T"..T"......d.OJ....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0160-0180: F9 D1 D2 F8 74 32 61 F3  00 03 67 E0 4B 4B D3 F8  74 22 42 F4 80 72 C3 F8  74 22 D3 F8 34 22 61 F3    ....t2a...g.KK..t"B..r..t"..4"a.
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0180-01A0: 0A 22 C3 F8 34 22 D3 F8  54 22 42 F4 80 72 C3 F8  54 22 D3 F8 54 22 D0 05  FB D4 D3 F8 64 12 3E 4A    ."..4"..T"B..r..T"..T"......d.>J
[2024-12-31 15:43:11]  [D/AT] urc_recv: 01A0-01C0: C1 F3 00 21 00 29 F8 D1  D2 F8 74 32 61 F3 08 23  44 E0 39 4B D3 F8 74 22  42 F0 80 72 C3 F8 74 22    ...!.)....t2a..#D.9K..t"B..r..t"
[2024-12-31 15:43:11]  [D/AT] urc_recv: 01C0-01E0: D3 F8 34 22 61 F3 1A 62  C3 F8 34 22 D3 F8 54 22  42 F0 80 72 C3 F8 54 22  D3 F8 54 22 D1 01 FB D4    ..4"a..b..4"..T"B..r..T"..T"....
[2024-12-31 15:43:11]  [D/AT] urc_recv: 01E0-0200: D3 F8 64 12 2D 4A C1 F3  00 61 00 29 F8 D1 D2 F8  74 32 61 F3 18 63 21 E0  28 4B D3 F8 74 22 42 F4    ..d.-J...a.)....t2a..c!.(K..t"B.
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0200-0220: 80 32 C3 F8 74 22 D3 F8  34 22 61 F3 11 42 C3 F8  34 22 D3 F8 54 22 42 F4  80 32 C3 F8 54 22 D3 F8    .2..t"..4"a..B..4"..T"B..2..T"..
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0220-0240: 54 22 D2 03 FB D4 D3 F8  64 12 1B 4A C1 F3 00 41  00 29 F8 D1 D2 F8 74 32  61 F3 10 43 C2 F8 74 32    T"......d..J...A.)....t2a..C..t2
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0240-0260: 70 47 15 4B D3 F8 38 22  61 F3 02 02 C3 F8 38 22  70 47 12 4B D3 F8 04 22  01 F0 01 01 61 F3 00 02    pG.K..8"a.....8"pG.K..."....a...
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0260-0280: C3 F8 04 22 D3 F8 04 22  61 F3 08 22 C3 F8 04 22  70 47 0A 4B D3 F8 00 22  61 F3 00 02 0A E0 07 4B    ..."..."a.."..."pG.K..."a......K
[2024-12-31 15:43:11]  [D/AT] urc_recv: 0280-02A0: D3 F8 00 22 61 F3 08 22  04 E0 04 4B D3 F8 00 22  61 F3 10 42 C3 F8 00 22  70 47 00 00 02 A2 00 00    ..."a.."...K..."a..B..."pG......
[2024-12-31 15:43:11]  [D/AT] urc_recv: 02A0-02C0: 15 A2 10 28 30 B5 00 F0  1F 05 13 D9 A0 F1 30 03  04 2B 13 D9 A0 F1 44 03  15 2B 13 D9 A0 F1 60 03    ...(0.........0..+....D..+....`.
[2024-12-31 15:43:11]  [D/AT] urc_recv: 02C0-02E0: 11 2B 13 D9 90 28 15 D0  B0 28 2C D1 19 4B 19 4C  1A 4A 12 E0 1A 4B 1A 4C  1B 4A 0E E0 1B 4B 1B 4C    .+...(...(,..K.L.J...K.L.J...K.L
[2024-12-31 15:43:12]  [D/AT] urc_recv: 02E0-0300: 1C 4A 0A E0 1C 4B 1C 4C  1D 4A 06 E0 1D 4B 1D 4C  1E 4A 02 E0 1E 4B 1E 4C  1F 4A 21 B9 20 68 E8 40    .J...K.L.J...K.L.J...K.L.J!. h.@
[2024-12-31 15:43:12]  [D/AT] urc_recv: 0300-0320: 00 F0 01 00 30 BD 01 29  04 D1 13 68 A9 40 19 43  11 60 0B E0 02 29 09 D1  1A 68 01 21 01 FA 05 F5    ....0..)...h.@.C.`...)...h.!....
[2024-12-31 15:43:12]  [D/AT] urc_recv: 0320-0340: 15 43 1D 60 02 E0 4F F0  FF 30 30 BD 00 20 30 BD  00 BF 70 03 15 A2 60 03  15 A2 80 03 15 A2 10 0B    .C.`..O..00.. 0...p...`.........
[2024-12-31 15:43:12]  [D/AT] urc_recv: 0340-0360: 03 A2 00 0B 03 A2 20 0B  03 A2 40 0B 03 A2 30 0B  03 A2 50 0B 03 A2 70 0B  03 A2 60 0B 03 A2 80 0B    ...... ...@...0...P...p...`.....
[2024-12-31 15:43:12]  [D/AT] urc_recv: 0360-0380: 03 A2 10 03 15 A2 00 03  15 A2 20 03 15 A2 40 03  15 A2 30 03 15 A2 50 03  15 A2 01 28 24 D1 22 4B    .......... ...@...0...P....($."K
[2024-12-31 15:43:12]  [D/AT] urc_recv: 0380-03A0: D3 F8 80 22 02 29 42 F4  80 72 C3 F8 80 22 04 D1  D3 F8 88 22 42 F0 01 02  05 E0 03 29 06 D1 D3 F8    ...".)B..r..."....."B......)....
[2024-12-31 15:43:12]  [D/AT] urc_recv: 03A0-03C0: 88 22 42 F4 80 72 C3 F8  88 22 2C E0 05 29 04 D1  D3 F8 88 22 42 F4 80 32  F5 E7 14 29 23 D1 D3 F8    ."B..r...",..)....."B..2...)#...
[2024-12-31 15:43:12]  [D/AT] urc_recv: 03C0-03E0: 88 22 42 F0 80 72 EE E7  02 28 1C D1 0F 4B                                                            ."B..r...(...K
[2024-12-31 15:43:12]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:43:12]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..

# 读这个文件片段完最后一包数据，整个文件下载完成
[2024-12-31 15:43:39]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4F  54 41 52 44 3D 34 33 38  33 30 2C 39 37 34 0D 0A                             AT+QIOTOTARD=43830,974..
[2024-12-31 15:43:39]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 4F 54 41  52 44 3A 20 34 33 38 33  30 2C 31 32 36 0D 0A                                +QIOTOTARD: 43830,126..
[2024-12-31 15:43:39]  [D/AT] urc_recv: 0000-0020: 63 61 74 69 6F 6E 5F 56  32 2E 30 2E 30 2E 41 47  33 33 35 32 5F 45 52 31  00 00 00 00 00 00 00 00    cation_V2.0.0.AG3352_ER1........
[2024-12-31 15:43:39]  [D/AT] urc_recv: 0020-0040: 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 20 2C 20 04 00 00    .......................... , ...
[2024-12-31 15:43:39]  [D/AT] urc_recv: 0040-0060: 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00    ................................
[2024-12-31 15:43:39]  [D/AT] urc_recv: 0060-0080: 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  00 00 50 AB 20 04          ..........................P. .
[2024-12-31 15:43:39]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:43:39]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..

# 发送升级中指令
[2024-12-31 15:43:39]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 55  50 44 41 54 45 3D 33 0D  0A                                                  AT+QIOTUPDATE=3..
[2024-12-31 15:43:39]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:43:39]  [D/AT] recvline: 0000-0020: 4F 4B 0D 0A                                                                                           OK..

# 上传新版本号
[2024-12-31 15:43:39]  [D/AT] sendline: 0000-0020: 41 54 2B 51 49 4F 54 4D  43 55 56 45 52 3D 22 47  4E 53 53 2D 50 30 22 2C  22 4C 43 37 36 47 41 42    AT+QIOTMCUVER="GNSS-P0","LC76GAB
[2024-12-31 15:43:39]  [D/AT] sendline: 0020-0040: 4E 52 31 32 41 30 32 53  22 0D 0A                                                                     NR12A02S"..
[2024-12-31 15:43:39]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
# 平台回复升级中事件
[2024-12-31 15:43:39]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:43:40]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  34 0D 0A                                            +QIOTEVT: 7,10704..

# 平台回复升级成功事件
[2024-12-31 15:43:40]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:43:40]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  35 0D 0A                                            +QIOTEVT: 7,10705..

# 推送开始下载下一个升级组件文件
[2024-12-31 15:43:40]  [D/AT] recvline: 0000-0020: 0D 0A                                                                                                 ..
[2024-12-31 15:43:43]  [D/AT] recvline: 0000-0020: 2B 51 49 4F 54 45 56 54  3A 20 37 2C 31 30 37 30  31 2C 22 47 4E 53 53 2D  50 31 22 2C 34 33 32 2C    +QIOTEVT: 7,10701,"GNSS-P1",432,
[2024-12-31 15:43:43]  [D/AT] recvline: 0020-0040: 22 32 64 62 34 34 65 62  37 35 37 36 63 38 62 64  39 39 61 36 37 33 66 34  61 35 63 66 36 35 30 66    "2db44eb7576c8bd99a673f4a5cf650f
[2024-12-31 15:43:43]  [D/AT] recvline: 0040-0060: 39 22 2C 31 33 32 39 39  39 31 31 35 37 0D 0A                                                         9",1329991157..

# 之后便是和之前一样的流程，下载中、下载完成、读固件数据，更新升级状态和上报新版本


```
